<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据库小小知识点 | haha&#39;s study_blogs</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/haha-s-study_blogs/image/head portrait.jpg">
    <meta name="description" content="haha study_blogs">
    
    <link rel="preload" href="/haha-s-study_blogs/assets/css/0.styles.aaebfa2a.css" as="style"><link rel="preload" href="/haha-s-study_blogs/assets/js/app.06342424.js" as="script"><link rel="preload" href="/haha-s-study_blogs/assets/js/2.1ddb5fec.js" as="script"><link rel="preload" href="/haha-s-study_blogs/assets/js/25.1c941001.js" as="script"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/10.3c67c451.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/11.9b46cc8a.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/12.239ac6d8.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/13.c2d59109.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/14.2beb900e.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/15.177a0a08.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/16.75231d1e.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/17.f7c61dca.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/18.88a70bd5.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/19.4820a928.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/20.b5eb016e.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/21.f038fa64.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/22.3deba740.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/23.f32ee6d9.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/24.c46a887f.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/26.f4c82172.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/27.55c9b9f9.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/28.5ca65fed.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/3.79895eac.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/4.ee409a3a.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/5.e8886e59.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/6.68f2ea79.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/7.bbe12b42.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/8.35c968ac.js"><link rel="prefetch" href="/haha-s-study_blogs/assets/js/9.eef67360.js">
    <link rel="stylesheet" href="/haha-s-study_blogs/assets/css/0.styles.aaebfa2a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/haha-s-study_blogs/" class="home-link router-link-active"><!----> <span class="site-name">haha's study_blogs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="测试笔记" class="dropdown-title"><span class="title">测试笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="测试笔记" class="mobile-dropdown-title"><span class="title">测试笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/jmeter基础知识小笔记.html" class="nav-link">
  测试基础笔记
</a></li><li class="dropdown-item"><!----> <a href="/haha-s-study_blogs/blog/测试笔记/测试进阶（自动化）笔记/python开发/python基础知识1（数据类型、函数、基本方法）.html" class="nav-link">
  测试进阶（自动化）笔记
</a></li></ul></div></div><div class="nav-item"><a href="/haha-s-study_blogs/blog/测试环境搭建/将Windows上禅道数据迁移到Linux禅道中.html" class="nav-link">
  测试环境搭建
</a></div><div class="nav-item"><a href="/haha-s-study_blogs/blog/兴趣拓展/给谷歌添加谷歌访问助手.html" class="nav-link">
  兴趣拓展
</a></div> <a href="https://github.com/yuan123haha/haha-s-study_blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    代码地址
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="测试笔记" class="dropdown-title"><span class="title">测试笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="测试笔记" class="mobile-dropdown-title"><span class="title">测试笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/jmeter基础知识小笔记.html" class="nav-link">
  测试基础笔记
</a></li><li class="dropdown-item"><!----> <a href="/haha-s-study_blogs/blog/测试笔记/测试进阶（自动化）笔记/python开发/python基础知识1（数据类型、函数、基本方法）.html" class="nav-link">
  测试进阶（自动化）笔记
</a></li></ul></div></div><div class="nav-item"><a href="/haha-s-study_blogs/blog/测试环境搭建/将Windows上禅道数据迁移到Linux禅道中.html" class="nav-link">
  测试环境搭建
</a></div><div class="nav-item"><a href="/haha-s-study_blogs/blog/兴趣拓展/给谷歌添加谷歌访问助手.html" class="nav-link">
  兴趣拓展
</a></div> <a href="https://github.com/yuan123haha/haha-s-study_blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    代码地址
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>测试基础笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/jmeter基础知识小笔记.html" class="sidebar-link">jmeter基础测试</a></li><li><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/Linux基础.html" class="sidebar-link">Linux基础小笔记</a></li><li><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/测试基础理论小笔记.html" class="sidebar-link">测试基础理论小笔记</a></li><li><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/web测试基础小笔记.html" class="sidebar-link">web测试基础小笔记</a></li><li><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/APP测试基础小笔记.html" class="sidebar-link">APP测试基础小笔记</a></li><li><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/数据库小小知识点.html" class="active sidebar-link">数据库小小知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/数据库小小知识点.html#理论知识点" class="sidebar-link">理论知识点</a></li><li class="sidebar-sub-header"><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/数据库小小知识点.html#数据库数据" class="sidebar-link">数据库数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/数据库小小知识点.html#整型" class="sidebar-link">整型</a></li><li class="sidebar-sub-header"><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/数据库小小知识点.html#浮点型" class="sidebar-link">浮点型</a></li></ul></li><li class="sidebar-sub-header"><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/数据库小小知识点.html#数据库语法" class="sidebar-link">数据库语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/数据库小小知识点.html#联结" class="sidebar-link">联结</a></li></ul></li></ul></li><li><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/性能测试小知识点（我的小笔记）.html" class="sidebar-link">性能测试小知识点（我的小笔记）</a></li><li><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/计算机网络基础小知识.html" class="sidebar-link">计算机网络基础小知识</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>测试进阶（自动化）笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/haha-s-study_blogs/blog/测试笔记/测试进阶（自动化）笔记/python开发/python基础知识1（数据类型、函数、基本方法）.html" class="sidebar-link">数据类型、函数、基本方法</a></li><li><a href="/haha-s-study_blogs/blog/测试笔记/测试进阶（自动化）笔记/python开发/python基础知识2（模块）.html" class="sidebar-link">模块</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数据库小小知识点"><a href="#数据库小小知识点" class="header-anchor">#</a> 数据库小小知识点</h1> <h2 id="理论知识点"><a href="#理论知识点" class="header-anchor">#</a> 理论知识点</h2> <p><strong>数据</strong>：数据库中存储的基本对象，种类包括文字、图像、图形、声音等</p> <p><strong>数据库</strong>：以某种有组织的方式存储的数据集合，保存有组织的数据的容器，通常是一个文件或一组文件</p> <p><strong>DBMS数据库管理软件</strong>：对数据库的操作与管理</p> <p>行业中主流的数据库管理软件有：oracle，sqlsever，mysql</p> <p><strong>数据库在工作中的应用：</strong></p> <p>1、软件都需要数据库作为后台支撑</p> <p>2、部署测试环境需要安装数据库，配置数据库</p> <p>3、数据库中构造初始化数据</p> <p>4、测试执行过程中需验证数据库中的数据是否正确</p> <p>5、有些时候验证功能，需要修改数据库中的数据</p> <p>6、构造数据进行性能测试，大数据量测试</p> <p><strong>数据库应用过程</strong></p> <div class="language-mermaid line-numbers-mode"><pre class="language-text"><code>graph LR
A[用户]  --&gt;B[应用系统]
E[用户]  --&gt; B
B--&gt; C[数据库管理系统]
C--&gt;B
D[数据库管理员] --&gt; C
C --&gt; F[数据库]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>事务</strong>：事务对数据库的一组操作，组成这组操作的各个单元，要不全部都成功要不全部失败，这个特性就是事务</p> <p>1、原子性：要不全部成功，要不全部失败（回滚）</p> <p>2、一致性：事务执行之前和之后都必须处于一致性</p> <p>3、隔离性</p> <p>4、持久性</p> <p><strong>索引</strong>：包含着数据表里所有记录的应用指针</p> <p>优点：加快查询速度</p> <p>缺点：降低增删改的速度</p> <p><strong>sql三种类别语言</strong></p> <p><strong>DDL</strong>：数据定义语言</p> <p>create、drop、alter、rename</p> <p><strong>DML</strong>：数据操纵语言</p> <p>select、update、insert、delete</p> <p><strong>DCL</strong>：数据控制语言</p> <p>grant（授权）、revoke（回收权限）、commit</p> <h2 id="数据库数据"><a href="#数据库数据" class="header-anchor">#</a> 数据库数据</h2> <p><strong>主键</strong>：任意两行都不具有相同的主键键值</p> <p><strong>外键</strong>：表示了两个表之间的相互联系；以另一个表的外键作为主键的表被称为主表，具有此外键的表被称为主表的从表</p> <p>保证数据的一致性和完整性</p> <h3 id="整型"><a href="#整型" class="header-anchor">#</a> 整型</h3> <p><strong>tinyint</strong>：1字节，非常小的整数</p> <p>带符号：-128~127</p> <p>不带符号：0~255</p> <p><strong>int</strong>：4字节，标准整数</p> <p>带符号：-2147483648~2147483647</p> <p>不带符号：0~4294967295</p> <p><strong>其他类型</strong>：smallint（2字节） mediumint（字节） bigint（8字节）</p> <h3 id="浮点型"><a href="#浮点型" class="header-anchor">#</a> 浮点型</h3> <p><strong>近似值：</strong></p> <p><strong>float</strong>：4字节，单精度浮点数，有效位数6-7位</p> <p><strong>double</strong>：8字节，双精度浮点数，有效位数16位</p> <p><strong>准确值</strong>：</p> <p><strong>decimal</strong>：M+2字节，以字符串形式表示的浮点数，取值范围可变</p> <p>如：decimal（5,2） -999.99-999.99，M：65  D：30</p> <p><strong>字符串类型</strong>：</p> <p><strong>char[M]</strong>：M个字符，固定长度</p> <p><strong>verchar[M]</strong>：M字符，变化长度</p> <p><strong>其他类型</strong>：blob（longblob）,text（longText）</p> <p><strong>时间类型</strong>：（日期）</p> <p>DATE：日期，CCYY-YY-DD</p> <p>time：时间，hh:mm:ss</p> <p>datetime:日期和时间组合，CCYY-MM-DD hh:mm:ss</p> <p><strong>timestamp（时间戳）</strong>：特殊类型</p> <p>不定义时间会自动取当前电脑时间</p> <p>如果有多个列取timestamp时，只有第一个会自动取值</p> <h2 id="数据库语法"><a href="#数据库语法" class="header-anchor">#</a> 数据库语法</h2> <p><strong>auto_increment</strong>:告诉mysql，本列每当增加一行时间自动增量，每个表只允许一个auto_increment列，而且它必须可以被索要（通常做主键）</p> <p><strong>alter table</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>查看创建表的信息：show creat table 表名
更新表：alter table
例：alter table 表名 add      字段 属性
    ···             modify   字段 属性
    ···             change   字段（被改） 字段（现在） 属性
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>增</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>insert into 表<span class="token number">1</span>（字段<span class="token number">1</span>，字段<span class="token number">2</span>） select 字段<span class="token number">1</span>，字段<span class="token number">2</span> <span class="token keyword">from</span> 表<span class="token number">2</span> where 。。。
insert into 表<span class="token number">1</span>（字段。。。），values（值）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>删</strong>：（truncate比delete速度快）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> 表 where 字段<span class="token operator">=</span>‘n’
truncate table
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>改</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>update 表<span class="token number">1</span> <span class="token keyword">set</span> 字段<span class="token number">1</span><span class="token operator">=</span>值，字段<span class="token number">2</span><span class="token operator">=</span>值 where 。。。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>备份表</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>create table 表<span class="token number">1</span> select <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">2</span>
命令：mysqldump <span class="token operator">-</span>u root <span class="token operator">-</span>p database（数据库名） tablename（表名）<span class="token operator">&gt;</span>table<span class="token punctuation">.</span>sql
注：进入mysql安装目录的bin目录执行
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>备份数据库</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>mysqldump <span class="token operator">-</span>u root <span class="token operator">-</span>p database（数据库名）<span class="token operator">&gt;</span>database<span class="token punctuation">.</span>sql
注：进入mysql安装目录的bin目录执行
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>导入数据库</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p
注：进入mysql安装目录的bin目录执行
create database newdb（创建一个要导入的数据库）
use newdb
source database<span class="token punctuation">.</span>sql（有数据的数据库）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>外键</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>设置外键
alter table 表名 add constraint 外键名 foreign key（字段） references 主表（字段）
删除外键
alter table 表名 drop foreign key 外键名 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>对表操作</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>删除列：alter table 表名 drop 列名
删除表：drop table 表名
删除表里数据：<span class="token keyword">delete</span> <span class="token keyword">from</span> 表名
重命名表：rename table 表名 to 新表名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>选择显示</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>排序：select distinct（去重）字段 <span class="token keyword">from</span> 表名 order by 字段（可多列）
升序：···														asc 
降序：···														desc
返回几行<span class="token operator">:</span>···													 limit n 
从n<span class="token operator">+</span><span class="token number">1</span>开始，m行：···										limit n，m 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>desc只应用与前面一个字段顺序</p> <p>order by子句位于from之后，如果使用limit，就必须位于order by之后</p> <p><strong>where</strong> 条件1 and（优先级高）/or 条件2 ，如果先执行or，就加括号</p> <p>注：在同时使用order by和where时，order by位于where后，否则将产生错误</p> <p><strong>in</strong>-&gt;or值相加；例 in（1 or 2）</p> <p><strong>百分号（%）</strong></p> <p>like （n%） 以n开头的字符</p> <p>like（%n%）中间含n的字符</p> <p>_通配符：（_n%） n前面只有一个字符</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>使用别名，并进行字符拼接：
select （字段） concat（字段，‘字符’，字段，‘字符’） <span class="token keyword">as</span> 别名 <span class="token keyword">from</span> 表名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>算术运算：
select 字段，字段<span class="token operator">*</span>字段 <span class="token keyword">as</span> 别名 <span class="token keyword">from</span> 表名 where 字段 <span class="token operator">=</span>m
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>mysql支持的函数类型有</strong>：</p> <p>1、用于处理字符串的文本处理函数</p> <p>2、用于在数值数据上进行算术操作的数值函数</p> <p>3、用于处理日期和时间的函数</p> <p>4、返回数据库信息的系统函数</p> <p><strong>给表指定别名的作用：</strong></p> <p>1、缩短sql语句</p> <p>2、允许在单条select语句中多次使用相同的表</p> <p><strong>文本处理函数</strong>：</p> <table><thead><tr><th>函数名</th> <th>函数意义</th></tr></thead> <tbody><tr><td>concat（）</td> <td>字符串拼接函数</td></tr> <tr><td>length（）</td> <td>返回字符串的长度（空格也会计算）</td></tr> <tr><td>lower（）</td> <td>将字符串转换为小写</td></tr> <tr><td>upper（）</td> <td>将字符串装换为大写</td></tr> <tr><td>substring（）</td> <td>返回子串的字符</td></tr> <tr><td>trim（）</td> <td>去掉字符串左右两边的空格</td></tr></tbody></table> <p><strong>注：</strong>
mysql只支持使用not 对 in、between和exists取反</p> <p><strong>日期与实践处理函数</strong></p> <table><thead><tr><th style="text-align:center;">获取当前日期时间函数</th> <th style="text-align:right;"></th></tr></thead> <tbody><tr><td style="text-align:center;">curdate（）</td> <td style="text-align:right;">返回当前日期</td></tr> <tr><td style="text-align:center;">curtime（）</td> <td style="text-align:right;">返回当前时间</td></tr> <tr><td style="text-align:center;">now（）</td> <td style="text-align:right;">返回当前日期时间</td></tr> <tr><td style="text-align:center;">时间日期计算函数</td> <td style="text-align:right;"></td></tr> <tr><td style="text-align:center;">adddate（）</td> <td style="text-align:right;">增加一个日期（天，周等）</td></tr> <tr><td style="text-align:center;">addtime（）</td> <td style="text-align:right;">增加一个时间（时，分）</td></tr> <tr><td style="text-align:center;">datediff（）</td> <td style="text-align:right;">计算两个日期之差</td></tr> <tr><td style="text-align:center;">获取日期时间的一部分</td> <td style="text-align:right;"></td></tr> <tr><td style="text-align:center;">date（）</td> <td style="text-align:right;">返回日期时间的日期部分</td></tr> <tr><td style="text-align:center;">year（）</td> <td style="text-align:right;">返回日期时间的年部分</td></tr> <tr><td style="text-align:center;">month（）</td> <td style="text-align:right;">返回日期时间的月部分</td></tr> <tr><td style="text-align:center;">day（）</td> <td style="text-align:right;">返回日期时间的日部分</td></tr></tbody></table> <p>例：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>select 日期字段<span class="token number">1</span>，adddate（日期字段<span class="token number">1</span>，interval 数字 单位（month<span class="token operator">/</span>week）） <span class="token keyword">as</span> 别名 <span class="token keyword">from</span> 表名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>其他函数</strong>：</p> <table><thead><tr><th style="text-align:center;">数值处理函数</th> <th style="text-align:right;"></th></tr></thead> <tbody><tr><td style="text-align:center;">round（x，y）</td> <td style="text-align:right;">返回x的四舍五入的有y位小数的值</td></tr> <tr><td style="text-align:center;">truncate（x，y）</td> <td style="text-align:right;">返回x的截取为y位小数的结果</td></tr> <tr><td style="text-align:center;">abs（x）</td> <td style="text-align:right;">返回x的绝对值	例：select abs（datediff（，））</td></tr> <tr><td style="text-align:center;">rand（）</td> <td style="text-align:right;">返回0-1内的随机值</td></tr> <tr><td style="text-align:center;">聚集函数</td> <td style="text-align:right;"></td></tr> <tr><td style="text-align:center;">avg（）</td> <td style="text-align:right;">返回某列的平均值（不包括值为null的行）</td></tr> <tr><td style="text-align:center;">count（）</td> <td style="text-align:right;">返回某列的行数</td></tr> <tr><td style="text-align:center;">max（）</td> <td style="text-align:right;">返回某列的最大值</td></tr> <tr><td style="text-align:center;">min（）</td> <td style="text-align:right;">返回某列的最小值</td></tr> <tr><td style="text-align:center;">sum（）</td> <td style="text-align:right;">返回某列值之和</td></tr></tbody></table> <p><strong>流程函数</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">1</span>、<span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>t<span class="token punctuation">,</span>f<span class="token punctuation">)</span>
如果value是真，返回t<span class="token punctuation">,</span>否则返回f
<span class="token number">2</span>、<span class="token keyword">if</span> <span class="token keyword">null</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span>value2<span class="token punctuation">)</span>
如果value1不为空返回value1，否则返回value2
<span class="token number">3</span>、<span class="token keyword">case</span> when <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">(</span>可重复<span class="token punctuation">)</span> then <span class="token punctuation">[</span>result<span class="token punctuation">]</span> <span class="token operator">...</span> <span class="token keyword">else</span> <span class="token punctuation">[</span><span class="token keyword">default</span><span class="token punctuation">]</span> end
如果value是真，返回result，否则返回<span class="token keyword">default</span>
<span class="token number">4</span>、<span class="token keyword">case</span><span class="token punctuation">[</span>字段<span class="token punctuation">]</span> when <span class="token punctuation">[</span>value<span class="token punctuation">]</span> then <span class="token punctuation">[</span>result<span class="token punctuation">]</span><span class="token operator">...</span><span class="token keyword">else</span> <span class="token punctuation">[</span><span class="token keyword">default</span><span class="token punctuation">]</span> end
例：
<span class="token constant">SELECT</span>
    <span class="token constant">NAME</span> <span class="token string">'葫芦娃'</span><span class="token punctuation">,</span>
    <span class="token constant">CASE</span> <span class="token constant">NAME</span>
        <span class="token constant">WHEN</span> <span class="token string">'大娃'</span> <span class="token constant">THEN</span>
            <span class="token string">'神力'</span>
        <span class="token constant">WHEN</span> <span class="token string">'二娃'</span> <span class="token constant">THEN</span>
            <span class="token string">'千里眼、顺风耳'</span>
        <span class="token constant">WHEN</span> <span class="token string">'三娃'</span> <span class="token constant">THEN</span>
            <span class="token string">'铜头铁臂'</span>
        <span class="token constant">WHEN</span> <span class="token string">'四娃'</span> <span class="token constant">THEN</span>
            <span class="token string">'烈火'</span>
        <span class="token constant">WHEN</span> <span class="token string">'五娃'</span> <span class="token constant">THEN</span>
            <span class="token string">'惊涛骇浪'</span>
        <span class="token constant">WHEN</span> <span class="token string">'六娃'</span> <span class="token constant">THEN</span>
            <span class="token string">'隐身'</span>
        <span class="token constant">ELSE</span>
            <span class="token string">'镇妖之宝'</span>
    <span class="token constant">END</span> <span class="token string">'技能'</span>
<span class="token constant">FROM</span>
    表名<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>分组</strong>：</p> <p>分组是在select语句中的group by子句中建立的</p> <p><strong>注：</strong>
group by 只是创建分组，并不保证分组里面的数据排列顺序，需要使用order by 子句对分组里面的数据进行排序</p> <p>例：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>select 字段，count（<span class="token operator">*</span>）<span class="token keyword">as</span> 别名 <span class="token keyword">from</span> 表名 group by 字段，字段 having count（<span class="token operator">*</span>）<span class="token operator">&gt;</span>n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>注：</strong></p> <p>group by 必须出现在where句之后，order by 之前</p> <p>having是对分组后的结果进行过滤</p> <p>select后面只能查看group by后面的列和聚集计算的列</p> <p>group by 可以根据各个列进行分组，多个列分组即多个列的组相同</p> <p><strong>使用顺序</strong>：</p> <p>select-》from-》where-》group by-》having-》order by-》limit</p> <p><strong>in</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">1</span> where 字段<span class="token number">1</span> （not）<span class="token keyword">in</span> （select 字段<span class="token number">1</span> <span class="token keyword">from</span> 表<span class="token number">2</span> where 字段<span class="token number">2</span><span class="token operator">=</span>n）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>exist</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">1</span> where 字段<span class="token number">1</span> （not）exist（select <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">2</span> where 表<span class="token number">1.</span>字段<span class="token operator">=</span>表<span class="token number">2.</span>字段）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="联结"><a href="#联结" class="header-anchor">#</a> 联结</h3> <p><strong>笛卡尔乘积</strong>：是由没有联结条件的表关系返回的结果，检索出的行的数目将是第一个表中的行数乘以第二个表中的行数</p> <p><strong>联结</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">1</span>，表<span class="token number">2</span> where 表<span class="token number">1.</span>字段<span class="token operator">=</span>表<span class="token number">2.</span>字段
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>注：</strong>
mysql在运行时关联指定的每个表以处理联结，这种处理可能非常消耗资源，因此不要联结不必要的表，联结的表越多，性能下降越厉害</p> <p><strong>内联结（等值联结）</strong>：只有联结成功的值才返回</p> <p>内部联结也称为等值联结，它基于两个表之间的相等测试</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">1</span> inner join 表<span class="token number">2</span> on 表<span class="token number">1.</span>字段<span class="token operator">=</span>表<span class="token number">2.</span>字段
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>自联结</strong>：自联结的执行效率高于子查询</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> 表 <span class="token keyword">as</span> <span class="token constant">A</span>，表 <span class="token keyword">as</span> <span class="token constant">B</span> where <span class="token constant">A</span><span class="token punctuation">.</span>字段<span class="token operator">=</span><span class="token constant">B</span><span class="token punctuation">.</span>字段 and <span class="token constant">B</span><span class="token punctuation">.</span>字段<span class="token number">2</span><span class="token operator">=</span>‘n’
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>外联结</strong> ：按照基准表返回值，不管联结成不成功</p> <p>1、<strong>左联结</strong>：以左边表为基准，按照过滤条件查找右边表的记录，如果匹配列，那么就组合成一行，并显示结果，如果没有匹配到，那么只显示左边表的字段，右边表中不存在的字段用空值来显示</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">1</span> left join 表<span class="token number">2</span> on 表<span class="token number">1.</span>字段<span class="token operator">=</span>表<span class="token number">2.</span>字段
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2、<strong>右联结</strong>：与左联结相反</p> <p>3、<strong>联合查询</strong>：union</p> <p>将多条select语句组合起来，将他们的结果组合成单个结果集</p> <p><strong>注</strong>：union必须由两条或两条以上的select语句组成，语句之间用关键字union分隔；union中的每个查询必须包含相同的列；列数据类型必须兼容</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/APP测试基础小笔记.html" class="prev">
        APP测试基础小笔记
      </a></span> <span class="next"><a href="/haha-s-study_blogs/blog/测试笔记/测试基础笔记/性能测试小知识点（我的小笔记）.html">
        性能测试小知识点（我的小笔记）
      </a>
      →
    </span></p></div>  <!----></main></div><div class="global-ui"></div></div>
    <script src="/haha-s-study_blogs/assets/js/app.06342424.js" defer></script><script src="/haha-s-study_blogs/assets/js/2.1ddb5fec.js" defer></script><script src="/haha-s-study_blogs/assets/js/25.1c941001.js" defer></script>
  </body>
</html>
